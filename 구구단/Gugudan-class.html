<html>

<head>
  <meta charset="UTF-8">
  <title>구구단</title>
  <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>

<body>
  <div id="root"></div> <!-- 결과 <div id="root"><button>Like</button></div>-->
  <script type="text/babel"> //위까지 그리고 Likebutton이란 컴포넌트를 like버튼을 만들겠다네?
      // const e = React.createElement;

      class GuGuDan extends React.Component{
        constructor(props){ //컨스트럭터, super 잘모르겠으면 여기선 지워도됨
          super(props);
          this.state = {
            first: Math.ceil(Math.random() * 9),
            second: Math.ceil(Math.random() * 9),
            value:'',
            result:'',
          };
        }

        onChange = (e) => this.setState({ value: e.target.value});

        onSubmit = (e) => { //직접만든 함수는 화살표 함수 사용해야함 (this바뀜)
                e.preventDefault();
                if(parseInt(this.state.value) === this.state.first * this.state.second) {
                  this.setState((prevState) => {
                    return {
                      result: '정답:' + prevState.value,
                      first: Math.ceil(Math.random()*9),
                      second: Math.ceil(Math.random()*9),
                      value:'',
                      };
                    });
                    this.input.focus();
                } else {
                  this.setState({
                    result: '떙!',
                    value:'',
                  });
                }
        };

        input;

        onRefInput = (c) => {this.input =c;};

        render(){
          console.log('렌더링');
          return (
            <React.Fragment>
              <div>{this.state.first}곱하기{this.state.second}는?</div>
              <form onSubmit={this.onSubmit}>
                <input ref={this.onRefInput } type="number" value={this.state.value} onChange={this.onChange} />
                <button>입력!</button>
              </form>
              <div>{this.state.result}</div>
            </React.Fragment>
            );
        }
      }
    </script>
  <script type="text/babel"> //라이크 컴포넌트를 루트안에 그린다네
      ReactDOM.render(<div><GuGuDan /></div>, document.querySelector('#root'));
    </script>
</body>

</html>